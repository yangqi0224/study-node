# 				自定义持久层框架设计思路

## 1. 传统jdbc方式的缺点

1. 存在硬配置，数据库连接信息、sql信息。
2. 数据库会话资源消耗过大。
3. 需要自己封装返回结果，步骤繁琐。
4. 不方便统一管理。

## 2. 自定义持久层框架思路

### 使用方（开发人员，项目）

1. 将配置信息抽离出来，形成配置类。
   - 数据库连接信息配置文件
   - sql信息配置文件
2. 使用时将配置文件路径告诉框架，框架自己加载识别。



### 框架（工程）

1. 接受使用方传来的配置文件流，加载到内存中。
2. 解析配置文件
3. 自定义容器，存放配置文件中的信息。
   - 存放数据库连接信息的容器
   - 存放sql信息的容器
4. 解析容器中存放的信息。
   - 数据库连接池
   - sql执行信息
     - 拼接最终要执行的sql
     - 构建执行器
     - 封装放回结果（反射、内省）

